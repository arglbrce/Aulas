\documentclass[table]{beamer}

\usepackage{GCS-Aula_00-Style}

\input{GCS-Aula_00-Title.tex}

% manni tango friendly pastie
\usemintedstyle{borland}

%----------------------------------------------------------------------------------------
%	PRESENTATION SLIDES
%----------------------------------------------------------------------------------------

%------------------------------------------------

\begin{frame}
\begin{block}{\centerline{Introdução ao Maven}}
\centerline{Parte 1}
\end{block}

\end{frame}

%------------------------------------------------

\begin{frame}

\frametitle{O que é Maven?}

\begin{itemize}
	\item Uma tentativa de definir Maven:
	\begin{itemize}
		\item Ferramenta para simplificar o processo de build.
	\end{itemize}
	\item \texttt{Build?}
	\begin{itemize}
		\item Tarefas rotineiras que levam a construção ou montagem de um software a partir do código fonte.
	\end{itemize}
	\item Tarefas rotineiras?
	\begin{itemize}
		\item Compilar, executar testes, empacotar aplicação, etc.
	\end{itemize}
	\item Outra tentativa de definir Maven:
	\begin{itemize}
		\item Um conjunto de padrões usados para gerenciar e descrever projetos em java.
	\end{itemize}
\end{itemize}

\end{frame}

%------------------------------------------------

\begin{frame}

\frametitle{Quais os benefícios do Maven?}

\begin{itemize}
	\item Modelo que pode ser aplicado aos projetos Java. 
	\item A idéia é que o modelo traga mais transparência, mais reuso, mais facilidade de manutenção e entendimento.
	\item Fornece uma abstração que a maioria dos desenvolvedores estão familiarizados:
	\begin{itemize}
		\item Semelhante a abstração do automóvel: se você aprendeu a dirigir em um modelo A de carro, então poderá facilmente dirigir um modelo B.
	\end{itemize}
\end{itemize}

\end{frame}

%------------------------------------------------

\begin{frame}

\frametitle{Quais os benefícios do Maven?}

\begin{itemize}
	\item Abordagem declarativa:
	\begin{itemize}
		\item POM --- Project Object Model.
		\item A tarefas são delegadas para o POM e para os plugins.
		\item Os desenvolvedores podem usar as tarefas (encapsuladas pelos plugins) sem necessariamente entender como elas funcionam internamente
	\end{itemize}
\end{itemize}

\end{frame}

%------------------------------------------------

\begin{frame}

\frametitle{Princípios do Maven}

\begin{itemize}
	\item CoC - Convenções sobre a configuração
	\item Reuso de lógicas de \textit{builds}
	\item Execução declarativa
	\item Organização coerente de dependências
\end{itemize}

\end{frame}

%------------------------------------------------

\begin{frame}

\frametitle{Princípio 1: CoC - Convenção sobre a configuração}

\begin{itemize}
	\item Estratégia de ``propriedades \textit{defaults}" para a maioria das tarefas (podem ser alteradas quando conveniente) economiza tempo.
	\item Convenções primárias:
	\begin{itemize}
		\item Estrutura de diretórios padrão para projetos
		\begin{itemize}
			\item Código fonte, recursos (xml, properties), saída de arquivos gerados, documentação etc
		\end{itemize}
		\item Cada projeto gera um único resultado: \texttt{jar, war, ear}...
		\item Padrões de nomes
		\begin{itemize}
			\item Para diretórios: \texttt{my-app/src/main/java}
			\item Para arquivos gerados (\textit{outputs}):  \texttt{commons-logging-1.2.jar}
		\end{itemize}
	\end{itemize}
\end{itemize}

\end{frame}

%------------------------------------------------

\begin{frame}

\frametitle{Princípio 2: Reuso de lógicas de \textit{builds}}

\begin{itemize}
	\item Toda a lógica de \textit{build} é encapsulada pelos \textit{plugins}
	\item Um \textit{plugin} para
	\begin{itemize}
		\item Para compilar o código fonte
		\item Para executar os testes de unidade
		\item Para empacotar a aplicação (\texttt{jar, war, ear})
		\item Para gerar \texttt{javadocs}
		\item etc
	\end{itemize}
\end{itemize}

\end{frame}

%------------------------------------------------

\begin{frame}

\frametitle{Princípio 3: Execução declarativa}

%\definecolor{LightGray}{rgb}{0.95,0.95,0.95}

\begin{itemize}
	\item Tudo no \textit{maven} é orientado de forma declarativa no \texttt{POM} e nas configurações específicas dos \textit{plugins}. Exemplo do \texttt{POM}:
\end{itemize}

\begin{block}

\inputminted[
frame=lines,
numbersep=2pt,
%bgcolor=LightGray,
fontsize=\scriptsize,
linenos]{xml}{./source-code/pom.xml} 

\end{block}

\end{frame}

%------------------------------------------------

\begin{frame}

\frametitle{Princípio 3: Execução declarativa}

\begin{itemize}
\item Ciclo de Vida de {\it build}:
	\begin{itemize}

	\item Consiste de uma série de fases onde cada uma pode executar uma ou mais ações (goals) relacionada a essa fase
	\item Uma fase pode incluir outras fases:

	\end{itemize}

\end{itemize}

\begin{block}{A fase \texttt{compile} executará:}
	\begin{itemize}
		\item \texttt{validate}
		\item \texttt{initialize}
		\item \texttt{generate-sources}
		\item \texttt{process-sources}
		\item \texttt{generate-resources}
		\item \texttt{compile}
	\end{itemize}
\end{block}

\end{frame}

%------------------------------------------------

\begin{frame}

\frametitle{Princípio 4: Organização de dependências}

\begin{itemize}
\item Conceitos conectados:
	\begin{itemize}
	\item Dependências
	\item Artefatos
	\item Repositórios
	\end{itemize}
\end{itemize}

\begin{block}

\inputminted[
frame=lines,
numbersep=2pt,
%bgcolor=LightGray,
fontsize=\scriptsize,
linenos]{xml}{./source-code/pom.xml} 

\end{block}

\end{frame}

%------------------------------------------------

\begin{frame}

\frametitle{Princípio 4: Organização de dependências}

\begin{itemize}
\item Uma dependência é uma \textbf{referência} a um artefato específico em um repositório
\item Para o \texttt{maven} disponibilizar a dependência ele precisa saber em qual repositório procurar usando as \textbf{coordenadas} da dependência: \texttt{groupId}, \texttt{artifactId} e \texttt{version}
\item \texttt{Maven} busca a dependência de um \textbf{repositório remoto} e copia para um \textbf{repositório local}
\item Sempre que uma dependência não se encontrar em um repositório local, \texttt{maven} tenta buscar a dependência em repositórios remotos

\end{itemize}

\end{frame}

%------------------------------------------------

\begin{frame}

\frametitle{Repositórios Locais}

\begin{figure}
\includegraphics[scale=0.6]{./images/maven_repo_local.png}
\caption{Fonte: \url{http://blog.billcode.com.br/2011/09/repositorios-maven-em-5-minutos.html}}
\end{figure}
\end{frame}

%------------------------------------------------

\begin{frame}

\frametitle{Repositórios Internos}

\begin{figure}
\includegraphics[scale=0.6]{./images/maven_repo_interno.png}
\caption{Fonte: \url{http://blog.billcode.com.br/2011/09/repositorios-maven-em-5-minutos.html}}
\end{figure}
\end{frame}


%------------------------------------------------

\begin{frame}

\frametitle{Repositórios Remotos}

\begin{figure}
\includegraphics[scale=0.6]{./images/maven_repo_externo.png}
\caption{Fonte: \url{http://blog.billcode.com.br/2011/09/repositorios-maven-em-5-minutos.html}}
\end{figure}
\end{frame}


%----------------------------------------------------------------------------------------

\end{document}